# 数据库相关

## 数据表
### 用户表
**记录所有的用户（包括管理员）**  
表项：
+ id
+ 昵称
+ 权限（bitset）
+ 邮箱（可以为空）
+ 手机号（可以为空）
+ 密码（需要加密）
+ 年龄（可以为空）
+ 头像的资源地址
+ 资源使用量

### 系统消息表
**记录每位用户的系统消息**  
表项：
+ id
+ 接收的用户id（外键）
+ 消息发送者（可以是系统）
+ 发送时间（主键）
+ 消息内容

### 动态表
**记录所有用户发的所有动态**  
表项:  
+ id
+ 发布者的id
+ 发布的时间
+ 最后一次修改的时间
+ 文本性的内容
+ 所有相关资源的索引，删除动态的时候也删除相关资源（可以为空）
+ 点赞数

### 用户动态索引
**记录每一个用户的动态，方便查找每一个用户的动态**  
表项:
+ 用户id（主键）
+ 动态id（主键）

### 评论表
**记录所有的评论**  
表项:
+ id
+ 用户id（外键）
+ 动态id（外键）
+ 发布时间
+ 文本内容

### 资源索引
**记录储存在服务器上的视频，音乐，文件等资源**  
表项：
+ id
+ 上传者
+ 引用计数（仅用于转发）
+ 上传时间
+ 类型
+ 存在后端服务器上的地址


### 日志表
**记录用户的操作**  
表项：
+ id
+ 操作者
+ 动作（登录，发动态，退出等等）
+ 时间
